# coding: utf-8
{'Records': [{'eventVersion': '2.1', 'eventSource': 'aws:s3', 'awsRegion': 'eu-west-1', 'eventTime': '2020-10-08T12:57:47.306Z', 'eventName': 'ObjectCreated:Put', 'userIdentity': {'principalId': 'AWS:AROAJNEMPTBY2RAEGEF7K:marek.korpacz-503'}, 'requestParameters': {'sourceIPAddress': '10.114.10.145'}, 'responseElements': {'x-amz-request-id': '491F85A2C0629B3D', 'x-amz-id-2': '0M5sNv+E2Rt/P797o7q7InYMRsJ2PYtqt2dpg3B2lYBIZeZd7RmP8rUDaLkWvsHTK3dsuU1oq1zLG/5XzFHcACmhporkvL/m'}, 's3': {'s3SchemaVersion': '1.0', 'configurationId': 'f9bd7ab7-703c-44f4-962b-34c29184fdcc', 'bucket': {'name': 'poc-videolyzer', 'ownerIdentity': {'principalId': 'A1KU4ABWQP3AV5'}, 'arn': 'arn:aws:s3:::poc-videolyzer'}, 'object': {'key': 'production+ID_3929647.mp4', 'size': 2922615, 'eTag': 'c2a732a349be7e270f476893f5732063', 'sequencer': '005F7F0CC5D39EE957'}}}]}
event = {'Records': [{'eventVersion': '2.1', 'eventSource': 'aws:s3', 'awsRegion': 'eu-west-1', 'eventTime': '2020-10-08T12:57:47.306Z', 'eventName': 'ObjectCreated:Put', 'userIdentity': {'principalId': 'AWS:AROAJNEMPTBY2RAEGEF7K:marek.korpacz-503'}, 'requestParameters': {'sourceIPAddress': '10.114.10.145'}, 'responseElements': {'x-amz-request-id': '491F85A2C0629B3D', 'x-amz-id-2': '0M5sNv+E2Rt/P797o7q7InYMRsJ2PYtqt2dpg3B2lYBIZeZd7RmP8rUDaLkWvsHTK3dsuU1oq1zLG/5XzFHcACmhporkvL/m'}, 's3': {'s3SchemaVersion': '1.0', 'configurationId': 'f9bd7ab7-703c-44f4-962b-34c29184fdcc', 'bucket': {'name': 'poc-videolyzer', 'ownerIdentity': {'principalId': 'A1KU4ABWQP3AV5'}, 'arn': 'arn:aws:s3:::poc-videolyzer'}, 'object': {'key': 'production+ID_3929647.mp4', 'size': 2922615, 'eTag': 'c2a732a349be7e270f476893f5732063', 'sequencer': '005F7F0CC5D39EE957'}}}]}
event['Records'][0]['s3']['bucket']['name']
event['Records'][0]['s3']['object']['key']
import urllib
urllib.parse.unquote_plus(event['Records'][0]['s3']['object']['key'])
